{{ define "navibar" }}

<link rel="stylesheet" href="/static/css/navibar.css" />
<!-- ナビバー -->
<nav class="navbar navbar-light bg-light">
  <div class="container-fluid">
    <a class="navbar-brand">BGamesプロジェクト</a>
    <div class="navbar-brand">
      <a
        class="navbar-brand btn btn-outline-dark"
        style="display: none"
        href="/auth/signIn"
        id="signIn"
        >Sign in</a
      >
      <a
        class="navbar-brand btn btn-outline-dark"
        style="display: none"
        href="/auth/signUp"
        id="signUp"
        >Sign up</a
      >
      <a
        class="navbar-brand btn btn-outline-danger"
        style="display: none"
        id="signOut"
        >Sign out</a
      >
    </div>
  </div>
</nav>
<script>
  window.onload = function () {
    toggleAuth();
  };

  function toggleAuth() {
    if (getToken() == undefined) {
      document.getElementById("signOut").style.display = "none";
      document.getElementById("signIn").style.display = "inline-block";
      document.getElementById("signUp").style.display = "inline-block";
    } else {
      document.getElementById("signOut").style.display = "inline-block";
      document.getElementById("signIn").style.display = "none";
      document.getElementById("signUp").style.display = "none";
    }
  }

  $(function () {
    $("#signOut").on("click", function () {
      var $this = $(this);
      document.cookie = "token=token; max-age=0";
      console.log(document.cookie);
      toggleAuth();
    });
  });
</script>
{{end}}
