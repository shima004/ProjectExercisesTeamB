{{ define "numberGuessing"}}
<!DOCTYPE html>
<html lang="jp">
    <head>
        {{ template "header" . }}
        <meta charset="utf-8">
        <title>ALGO</title>
    </head>
    <!-- <script>
        function getRandomInt(min, max) {
            return Math.floor(Math.random() * (max - min + 1)) + min;
        }
        var Anum = new Array(2); //回答
        var Qnum = new Array(16); //格納される値
        var hide = new Array(2); //＊表示箇所
        var a = new Array(16); //B or W

        function init() {
            document.getElementById("number").innerHTML="";
            console.log("onload")
            for(var i=0;i<12;i++) {
                var number = document.createElement("span");
                number.innerText = i;
                number.className = "white";
                number.draggable = true;
                number.ondragstart = dragNumber;
                document.getElementById("number").appendChild(number);
            }
            var ran = []; //重複確認用
            //*表示箇所決定
            for(i=0; i<2; i++) {
                //重複確認
                while(true) {
                    var c = getRandomInt(0,7); //0-7の乱数
                    if(!ran.includes(c)) {
                        ran.push(c);
                        hide[i] = c;
                        break;
                    }
                }
            }
            var Bnum = [0,1,2,3,4,5,6,7,8,9,10,11]; //黒数字
            var Wnum = [0,1,2,3,4,5,6,7,8,9,10,11]; //白数字
            var rand1 = [];
            var rand2 = [];
            //Qnumの配列(16個)にBnum or　Wnumを格納
            for(var i=0;i<16;i++) {
                //乱数 (0 or 1)
                a[i] = getRandomInt(0,100);
                //Black(0だった場合)
                if(a[i] % 2 == 0) {
                    //乱数生成
                    while(true) {
                        var b = getRandomInt(0,11); //0-11の乱数
                        //重複確認
                        if(!rand1.includes(b)) {
                            //rand1にbを格納
                            rand1.push(b);
                            //QnumにBnumを格納
                            Qnum[i]  = Bnum[b];
                            break;
                        }
                    }
                }
                //White(1だった場合)
                else if(a[i] % 2 == 1){
                    while(true) {
                        var w = getRandomInt(0,11); //0-11の乱数
                        //重複確認
                        if(!rand2.includes(w)) {
                            //rand2にwを格納
                            rand2.push(w);
                            //QnumにWnumを格納
                            Qnum[i] = Wnum[w];
                            break;
                        }
                    }
                }
            }
            var tmp1; //Qnum一時保管
            var tmp2; //a(B or W)一時保管
            //ソート(0-3)
            for(i=0; i<8; i++) {
                for(j=0; j<8; j++) {
                    //数字
                    if(Qnum[i] > Qnum[j]) {
                        tmp1 = Qnum[i];
                        Qnum[i] = Qnum[j];
                        Qnum[j] = tmp1;
                        tmp2 = a[i];
                        a[i] = a[j];
                        a[j] = tmp2;
                    }
                    //B or W
                    if(Qnum[i] == Qnum[j]) {
                        if(a[i]%2==1 && a[j]%2==0) {
                            tmp1 = Qnum[i];
                            Qnum[i] = Qnum[j];
                            Qnum[j] = tmp1;
                            tmp2 = a[i];
                            a[i] = a[j];
                            a[j] = tmp2;
                        }
                    }
                }
            }
            //ソート（4-7)
            for(i=8; i<16; i++) {
                for(j=8; j<16; j++) {
                    //数字
                    if(Qnum[i] < Qnum[j]) {
                        tmp1 = Qnum[i];
                        Qnum[i] = Qnum[j];
                        Qnum[j] = tmp1;
                        tmp2 = a[i];
                        a[i] = a[j];
                        a[j] = tmp2;
                    }
                    //B or W
                    if(Qnum[i] == Qnum[j]) {
                        if(a[i]%2==0 && a[j]%2==1) {
                            tmp1 = Qnum[i];
                            Qnum[i] = Qnum[j];
                            Qnum[j] = tmp1;
                            tmp2 = a[i];
                            a[i] = a[j];
                            a[j] = tmp2;
                        }
                    }
                }
            }
            for(i=0; i<8; i++) {
                //question0-3 id取得
                document.getElementById("question"+i).innerHTML = "";
                //question0
                if(i == 0) {
                    var question0 = document.createElement("span");
                    //*表示箇所確認
                    if(hide[0] == i || hide[1] == i) {
                        question0.innerText = "*";
                        //B or W
                        if(a[i] % 2 == 0) {
                            question0.style.backgroundColor = "black";
                            question0.style.color = "white";
                        }
                        else if(a[i] % 2 == 1) {
                            question0.style.backgroundColor = "white";
                        }  
                        question0.ondragover = dragOverNumber;
                        question0.ondrop = dropNumber;
                    }
                    //数字表示
                    else {
                        question0.innerText = Qnum[i]; //数字
                        //B or W
                        if(a[i] % 2 == 0) {
                            question0.style.backgroundColor = "black";
                            question0.style.color = "white";
                        }
                        else if(a[i] % 2 == 1) {
                            question0.style.backgroundColor = "white";
                        }    
                    }
                    document.getElementById("question0").appendChild(question0);
                }
                else if(i == 1) {
                    var question1 = document.createElement("span");
                    if(hide[0] == i || hide[1] == i) {
                        question1.innerText = "*";
                        if(a[i] % 2 == 0) {
                            question1.style.backgroundColor = "black";
                            question1.style.color = "white";
                        }
                        else if(a[i] % 2 == 1) {
                            question1.style.backgroundColor = "white";
                        }  
                        question1.ondragover = dragOverNumber;
                        question1.ondrop = dropNumber;
                    }
                    else {
                        question1.innerText = Qnum[i];
                        if(a[i] % 2 == 0) {
                            question1.style.backgroundColor = "black";
                            question1.style.color = "white";
                        }
                        else if(a[i] % 2 == 1) {
                            question1.style.backgroundColor = "white";
                        }    
                    }
                    document.getElementById("question1").appendChild(question1);
                }
                else if(i == 2) {
                    var question2 = document.createElement("span");
                    if(hide[0] == i || hide[1] == i) {
                        question2.innerText = "*";
                        if(a[i] % 2 == 0) {
                            question2.style.backgroundColor = "black";
                            question2.style.color = "white";
                        }
                        else if(a[i] % 2 == 1) {
                            question2.style.backgroundColor = "white";
                        }  
                        question2.ondragover = dragOverNumber;
                        question2.ondrop = dropNumber;
                    }
                    else {
                        question2.innerText = Qnum[i]; 
                        if(a[i] % 2 == 0) {
                            question2.style.backgroundColor = "black";
                            question2.style.color = "white";
                        }
                        else if(a[i] % 2 == 1) {
                            question2.style.backgroundColor = "white";
                        }   
                    }
                    document.getElementById("question2").appendChild(question2);
                }
                else if(i == 3){
                    var question3 = document.createElement("span");
                    if(hide[0] == i || hide[1] == i) {
                        question3.innerText = "*";
                        if(a[i] % 2 == 0) {
                            question3.style.backgroundColor = "black";
                            question3.style.color = "white";
                        }
                        else if(a[i] % 2 == 1) {
                            question3.style.backgroundColor = "white";
                        }  
                        question3.ondragover = dragOverNumber;
                        question3.ondrop = dropNumber;
                    }
                    else {
                        question3.innerText = Qnum[i];
                        if(a[i] % 2 == 0) {
                            question3.style.backgroundColor = "black";
                            question3.style.color = "white";
                        }
                        else if(a[i] % 2 == 1) {
                            question3.style.backgroundColor = "white";
                        }    
                    }
                    document.getElementById("question3").appendChild(question3);
                }
                else if(i == 4) {
                    var question4 = document.createElement("span");
                    if(hide[0] == i || hide[1] == i) {
                        question4.innerText = "*";
                        if(a[i] % 2 == 0) {
                            question4.style.backgroundColor = "black";
                            question4.style.color = "white";
                        }
                        else if(a[i] % 2 == 1) {
                            question4.style.backgroundColor = "white";
                        }  
                        question4.ondragover = dragOverNumber;
                        question4.ondrop = dropNumber;
                    }
                    else {
                        question4.innerText = Qnum[i];
                        if(a[i] % 2 == 0) {
                            question4.style.backgroundColor = "black";
                            question4.style.color = "white";
                        }
                        else if(a[i] % 2 == 1) {
                            question4.style.backgroundColor = "white";
                        }    
                    }
                    document.getElementById("question4").appendChild(question4);
                }
                else if(i == 5) {
                    var question5 = document.createElement("span");
                    if(hide[0] == i || hide[1] == i) {
                        question5.innerText = "*";
                        if(a[i] % 2 == 0) {
                            question5.style.backgroundColor = "black";
                            question5.style.color = "white";
                        }
                        else if(a[i] % 2 == 1) {
                            question5.style.backgroundColor = "white";
                        }  
                        question5.ondragover = dragOverNumber;
                        question5.ondrop = dropNumber;
                    }
                    else {
                        question5.innerText = Qnum[i];
                        if(a[i] % 2 == 0) {
                            question5.style.backgroundColor = "black";
                            question5.style.color = "white";
                        }
                        else if(a[i] % 2 == 1) {
                            question5.style.backgroundColor = "white";
                        }    
                    }
                    document.getElementById("question5").appendChild(question5);
                }
                else if(i == 6) {
                    var question6 = document.createElement("span");
                    if(hide[0] == i || hide[1] == i) {
                        question6.innerText = "*";
                        if(a[i] % 2 == 0) {
                            question6.style.backgroundColor = "black";
                            question6.style.color = "white";
                        }
                        else if(a[i] % 2 == 1) {
                            question6.style.backgroundColor = "white";
                        }  
                        question6.ondragover = dragOverNumber;
                        question6.ondrop = dropNumber;
                    }
                    else {
                        question6.innerText = Qnum[i];
                        if(a[i] % 2 == 0) {
                            question6.style.backgroundColor = "black";
                            question6.style.color = "white";
                        }
                        else if(a[i] % 2 == 1) {
                            question6.style.backgroundColor = "white";
                        }    
                    }
                    document.getElementById("question6").appendChild(question6);
                }
                else if(i == 7) {
                    var question7 = document.createElement("span");
                    if(hide[0] == i || hide[1] == i) {
                        question7.innerText = "*";
                        if(a[i] % 2 == 0) {
                            question7.style.backgroundColor = "black";
                            question7.style.color = "white";
                        }
                        else if(a[i] % 2 == 1) {
                            question7.style.backgroundColor = "white";
                        }  
                        question7.ondragover = dragOverNumber;
                        question7.ondrop = dropNumber;
                    }
                    else {
                        question7.innerText = Qnum[i];
                        if(a[i] % 2 == 0) {
                            question7.style.backgroundColor = "black";
                            question7.style.color = "white";
                        }
                        else if(a[i] % 2 == 1) {
                            question7.style.backgroundColor = "white";
                        }    
                    }
                    document.getElementById("question7").appendChild(question7);
                }
            }

            for(i=8; i<16; i++) {
                //question8-16 id取得
                document.getElementById("question"+i).innerHTML = "";
                if(i == 8) {
                    var question8 = document.createElement("span");
                    question8.innerText = Qnum[i];
                    if(a[i] % 2 == 0) {
                        question8.style.backgroundColor = "black";
                        question8.style.color = "white";
                    }
                    else if(a[i] % 2 == 1) {
                        question8.style.backgroundColor = "white";
                    }
                    document.getElementById("question8").appendChild(question8);
                }
                else if(i == 9) {
                    var question9 = document.createElement("span");
                    question9.innerText = Qnum[i];
                    if(a[i] % 2 == 0) {
                        question9.style.backgroundColor = "black";
                        question9.style.color = "white";
                    }
                    else if(a[i] % 2 == 1) {
                        question9.style.backgroundColor = "white";
                    }
                    document.getElementById("question9").appendChild(question9);
                }
                else if(i == 10) {
                    var question10 = document.createElement("span");
                    question10.innerText = Qnum[i];
                    if(a[i] % 2 == 0) {
                        question10.style.backgroundColor = "black";
                        question10.style.color = "white";
                    }
                    else if(a[i] % 2 == 1) {
                        question10.style.backgroundColor = "white";
                    }
                    document.getElementById("question10").appendChild(question10);
                }
                else if(i == 11){
                    var question11 = document.createElement("span");
                    question11.innerText = Qnum[i];
                    if(a[i] % 2 == 0) {
                        question11.style.backgroundColor = "black";
                        question11.style.color = "white";
                    }
                    else if(a[i] % 2 == 1) {
                        question11.style.backgroundColor = "white";
                    }
                    document.getElementById("question11").appendChild(question11);
                }
                else if(i == 12){
                    var question12 = document.createElement("span");
                    question12.innerText = Qnum[i];
                    if(a[i] % 2 == 0) {
                        question12.style.backgroundColor = "black";
                        question12.style.color = "white";
                    }
                    else if(a[i] % 2 == 1) {
                        question12.style.backgroundColor = "white";
                    }
                    document.getElementById("question12").appendChild(question12);
                }
                else if(i == 13){
                    var question13 = document.createElement("span");
                    question13.innerText = Qnum[i];
                    if(a[i] % 2 == 0) {
                        question13.style.backgroundColor = "black";
                        question13.style.color = "white";
                    }
                    else if(a[i] % 2 == 1) {
                        question13.style.backgroundColor = "white";
                    }
                    document.getElementById("question13").appendChild(question13);
                }
                else if(i == 14){
                    var question14 = document.createElement("span");
                    question14.innerText = Qnum[i];
                    if(a[i] % 2 == 0) {
                        question14.style.backgroundColor = "black";
                        question14.style.color = "white";
                    }
                    else if(a[i] % 2 == 1) {
                        question14.style.backgroundColor = "white";
                    }
                    document.getElementById("question14").appendChild(question14);
                }
                else if(i == 15){
                    var question15 = document.createElement("span");
                    question15.innerText = Qnum[i];
                    if(a[i] % 2 == 0) {
                        question15.style.backgroundColor = "black";
                        question15.style.color = "white";
                    }
                    else if(a[i] % 2 == 1) {
                        question15.style.backgroundColor = "white";
                    }
                    document.getElementById("question15").appendChild(question15);
                }
            }
        }

        

        function dragNumber(event) {
            event.dataTransfer.setData("text", event.target.innerText);
        }

        function dropNumber(event) {
            var number = event.dataTransfer.getData("text");
            event.target.innerText = number;
            event.target.className = "";
        }

        function dragOverNumber(event) {
            event.preventDefault();
        }

        function check() {
            var correct = []; //解答確認
            //hide1,2 question0-3 一致確認
            for(i=0; i<2; i++) {
                if(hide[i] == 0) {
                    //question0内を数値変換
                    Anum[i] = Number(document.getElementById("question0").innerText);
                }
                else if(hide[i] == 1) {
                    Anum[i] = Number(document.getElementById("question1").innerText);
                }
                else if(hide[i] == 2) {
                    Anum[i] = Number(document.getElementById("question2").innerText);
                }
                else if(hide[i] == 3) {
                    Anum[i] = Number(document.getElementById("question3").innerText);
                }
                // 回答と格納値を比較
                if(Anum[i] == Qnum[hide[i]]) {
                    correct[i] = 1;
                }
            }
            //出力
            if(correct[0] == 1 && correct[1] == 1) {
                alert("OKOK");
            }
            else if(correct[0] == 1) {
                alert("OK");
            }
            else if(correct[1] == 1) {
                alert("OK");
            }
            if(correct[0] == 1) {
                if(hide[0] == 0) {
                    question0.className = "green";
                }
                else if(hide[0] == 1) {
                    question1.className = "green";
                }
                else if(hide[0] == 2) {
                    question2.className = "green";
                }
                else if(hide[0] == 3) {
                    question3.className = "green";
                }
            }
            if(correct[1] == 1) {
                if(hide[1] == 0) {
                    question0.className = "green";
                }
                else if(hide[1] == 1) {
                    question1.className = "green";
                }
                else if(hide[1] == 2) {
                    question2.className = "green";
                }
                else if(hide[1] == 3) {
                    question3.className = "green";
                }
            }
        }
    </script> -->
    
    <body>
        {{ template "navibar" . }}
        <br>
        <p id="let">詰めアルゴ</p>
        <hr>
        <div>
            ＜ルール＞<button type="button" id="btn_rule" onclick="clickbtn_rule()">∨</button>
            <p id="p1">
                黒のカード(0〜11)と白のカード(0~11)の計24枚のカードがある。<br>
                同じカードは存在しない。<br>
                スタートをクリックすると、上下8枚ずつ、計16枚のカードが表示される。<br>
                下の数字は昇順、上の数字は降順に並んでいる。<br>
                白と黒で同じ数字の場合は「黒の方が小さい」とする。<br>
                上にある空いたマス(*)を以上のルールに沿って埋めていく。<br>
            </p>
            <hr>
            <input type="button" value="スタート" onclick="init()" id="start">
            <input type="button" value="判定" onclick="check()" id="deci">
            <input type="button" value="リセット" onclick="count_reset()" id="reset">
            <hr>
        </div>
        <div style="background-color: #CCC;">
            <form>
                <h2 id="default">01:00</h2>
                <hr>
                <div id="number"></div>
                <hr><p id="Dfont">↓Drag &amp; Drop</p>
                <div>
                    <p id="question0"></p>
                    <p id="question1"></p>
                    <p id="question2"></p>
                    <p id="question3"></p>
                    <p id="question4"></p>
                    <p id="question5"></p>
                    <p id="question6"></p>
                    <p id="question7"></p>
                </div>
                <div>
                    <p id="question8"></p>
                    <p id="question9"></p>
                    <p id="question10"></p>
                    <p id="question11"></p>
                    <p id="question12"></p>
                    <p id="question13"></p>
                    <p id="question14"></p>
                    <p id="question15"></p>
                </div>
                <hr>
            </form>
        </div>
    </body>
    <script>
        function getRandomInt(min, max) {
            return Math.floor(Math.random() * (max - min + 1)) + min;
        }
        var Anum = new Array(2); //回答
        var Qnum = new Array(16); //格納される値
        var hide = new Array(2); //＊表示箇所
        var a = new Array(16); //B or W
        var start_f = false; 
        var interval;
        const btn1 = document.querySelector("#start");
        const btn2 = document.querySelector("#deci");
        const btn3 = document.querySelector("#reset");

        btn2.disabled = true;
        btn3.disabled = true;

        const p1 = document.getElementById("p1");
        p1.style.display = "none";
        const btn_rule = document.getElementById("btn_rule");

        function clickbtn_rule() {
            if(p1.style.display == "block") {
                p1.style.display = "none";
            } else {
                p1.style.display = "block";
            }
            if(btn_rule.textContent == "∨") {
                btn_rule.textContent = "∧";
            } else {
                btn_rule.textContent = "∨";
            }
        }

        function init() {
            document.getElementById("number").innerHTML="";
            for(var i=0;i<12;i++) {
                var number = document.createElement("span");
                number.innerText = i;
                number.className = "white";
                number.draggable = true;
                number.ondragstart = dragNumber;
                document.getElementById("number").appendChild(number);
            }
            var ran = []; //重複確認用
            //*表示箇所決定
            for(i=0; i<2; i++) {
                //重複確認
                while(true) {
                    var c = getRandomInt(0,7); //0-7の乱数
                    if(!ran.includes(c)) {
                        ran.push(c);
                        hide[i] = c;
                        break;
                    }
                }
            }
            var Bnum = [0,1,2,3,4,5,6,7,8,9,10,11]; //黒数字
            var Wnum = [0,1,2,3,4,5,6,7,8,9,10,11]; //白数字
            var rand1 = [];
            var rand2 = [];
            //Qnumの配列(16個)にBnum or　Wnumを格納
            for(var i=0;i<16;i++) {
                //乱数 (0 or 1)
                a[i] = getRandomInt(0,100);
                //Black(0だった場合)
                if(a[i] % 2 == 0) {
                    //乱数生成
                    while(true) {
                        var b = getRandomInt(0,11); //0-11の乱数
                        //重複確認
                        if(!rand1.includes(b)) {
                            //rand1にbを格納
                            rand1.push(b);
                            //QnumにBnumを格納
                            Qnum[i]  = Bnum[b];
                            break;
                        }
                    }
                }
                //White(1だった場合)
                else if(a[i] % 2 == 1){
                    while(true) {
                        var w = getRandomInt(0,11); //0-11の乱数
                        //重複確認
                        if(!rand2.includes(w)) {
                            //rand2にwを格納
                            rand2.push(w);
                            //QnumにWnumを格納
                            Qnum[i] = Wnum[w];
                            break;
                        }
                    }
                }
            }
            var tmp1; //Qnum一時保管
            var tmp2; //a(B or W)一時保管
            //ソート(0-7)
            for(i=0; i<8; i++) {
                for(j=0; j<8; j++) {
                    //数字
                    if(Qnum[i] > Qnum[j]) {
                        tmp1 = Qnum[i];
                        Qnum[i] = Qnum[j];
                        Qnum[j] = tmp1;
                        tmp2 = a[i];
                        a[i] = a[j];
                        a[j] = tmp2;
                    }
                    //B or W
                    if(Qnum[i] == Qnum[j]) {
                        if(a[i]%2==1 && a[j]%2==0) {
                            tmp1 = Qnum[i];
                            Qnum[i] = Qnum[j];
                            Qnum[j] = tmp1;
                            tmp2 = a[i];
                            a[i] = a[j];
                            a[j] = tmp2;
                        }
                    }
                }
            }
            //ソート（8-15)
            for(i=8; i<16; i++) {
                for(j=8; j<16; j++) {
                    //数字
                    if(Qnum[i] < Qnum[j]) {
                        tmp1 = Qnum[i];
                        Qnum[i] = Qnum[j];
                        Qnum[j] = tmp1;
                        tmp2 = a[i];
                        a[i] = a[j];
                        a[j] = tmp2;
                    }
                    //B or W
                    if(Qnum[i] == Qnum[j]) {
                        if(a[i]%2==0 && a[j]%2==1) {
                            tmp1 = Qnum[i];
                            Qnum[i] = Qnum[j];
                            Qnum[j] = tmp1;
                            tmp2 = a[i];
                            a[i] = a[j];
                            a[j] = tmp2;
                        }
                    }
                }
            }
            for(i=0; i<8; i++) {
                //question0-3 id取得
                document.getElementById("question"+i).innerHTML = "";
                switch(i) {
                    case 0:
                        var question0 = document.createElement("span");
                        //*表示箇所確認
                        if(hide[0] == i || hide[1] == i) {
                            question0.innerText = "*";
                            //B or W
                            if(a[i] % 2 == 0) {
                                question0.style.backgroundColor = "black";
                                question0.style.color = "white";
                            }
                            else if(a[i] % 2 == 1) {
                                question0.style.backgroundColor = "white";
                            }  
                            question0.ondragover = dragOverNumber;
                            question0.ondrop = dropNumber;
                        }
                        //数字表示
                        else {
                            question0.innerText = Qnum[i]; //数字
                            //B or W
                            if(a[i] % 2 == 0) {
                                question0.style.backgroundColor = "black";
                                question0.style.color = "white";
                            }
                            else if(a[i] % 2 == 1) {
                                question0.style.backgroundColor = "white";
                            }    
                        }
                        document.getElementById("question0").appendChild(question0);
                        break;
                    case 1:
                        var question1 = document.createElement("span");
                        if(hide[0] == i || hide[1] == i) {
                            question1.innerText = "*";
                            if(a[i] % 2 == 0) {
                                question1.style.backgroundColor = "black";
                                question1.style.color = "white";
                            }
                            else if(a[i] % 2 == 1) {
                                question1.style.backgroundColor = "white";
                            }  
                            question1.ondragover = dragOverNumber;
                            question1.ondrop = dropNumber;
                        }
                        else {
                            question1.innerText = Qnum[i];
                            if(a[i] % 2 == 0) {
                                question1.style.backgroundColor = "black";
                                question1.style.color = "white";
                            }
                            else if(a[i] % 2 == 1) {
                                question1.style.backgroundColor = "white";
                            }    
                        }
                        document.getElementById("question1").appendChild(question1);
                        break;
                    case 2:
                        var question2 = document.createElement("span");
                        if(hide[0] == i || hide[1] == i) {
                            question2.innerText = "*";
                            if(a[i] % 2 == 0) {
                                question2.style.backgroundColor = "black";
                                question2.style.color = "white";
                            }
                            else if(a[i] % 2 == 1) {
                                question2.style.backgroundColor = "white";
                            }  
                            question2.ondragover = dragOverNumber;
                            question2.ondrop = dropNumber;
                        }
                        else {
                            question2.innerText = Qnum[i]; 
                            if(a[i] % 2 == 0) {
                                question2.style.backgroundColor = "black";
                                question2.style.color = "white";
                            }
                            else if(a[i] % 2 == 1) {
                                question2.style.backgroundColor = "white";
                            }   
                        }
                        document.getElementById("question2").appendChild(question2);
                        break;
                    case 3:
                        var question3 = document.createElement("span");
                        if(hide[0] == i || hide[1] == i) {
                            question3.innerText = "*";
                            if(a[i] % 2 == 0) {
                                question3.style.backgroundColor = "black";
                                question3.style.color = "white";
                            }
                            else if(a[i] % 2 == 1) {
                                question3.style.backgroundColor = "white";
                            }  
                            question3.ondragover = dragOverNumber;
                            question3.ondrop = dropNumber;
                        }
                        else {
                            question3.innerText = Qnum[i];
                            if(a[i] % 2 == 0) {
                                question3.style.backgroundColor = "black";
                                question3.style.color = "white";
                            }
                            else if(a[i] % 2 == 1) {
                                question3.style.backgroundColor = "white";
                            }    
                        }
                        document.getElementById("question3").appendChild(question3);
                        break;
                    case 4:
                        var question4 = document.createElement("span");
                        if(hide[0] == i || hide[1] == i) {
                            question4.innerText = "*";
                            if(a[i] % 2 == 0) {
                                question4.style.backgroundColor = "black";
                                question4.style.color = "white";
                            }
                            else if(a[i] % 2 == 1) {
                                question4.style.backgroundColor = "white";
                            }  
                            question4.ondragover = dragOverNumber;
                            question4.ondrop = dropNumber;
                        }
                        else {
                            question4.innerText = Qnum[i];
                            if(a[i] % 2 == 0) {
                                question4.style.backgroundColor = "black";
                                question4.style.color = "white";
                            }
                            else if(a[i] % 2 == 1) {
                                question4.style.backgroundColor = "white";
                            }    
                        }
                        document.getElementById("question4").appendChild(question4);
                        break;
                    case 5:
                        var question5 = document.createElement("span");
                        if(hide[0] == i || hide[1] == i) {
                            question5.innerText = "*";
                            if(a[i] % 2 == 0) {
                                question5.style.backgroundColor = "black";
                                question5.style.color = "white";
                            }
                            else if(a[i] % 2 == 1) {
                                question5.style.backgroundColor = "white";
                            }  
                            question5.ondragover = dragOverNumber;
                            question5.ondrop = dropNumber;
                        }
                        else {
                            question5.innerText = Qnum[i];
                            if(a[i] % 2 == 0) {
                                question5.style.backgroundColor = "black";
                                question5.style.color = "white";
                            }
                            else if(a[i] % 2 == 1) {
                                question5.style.backgroundColor = "white";
                            }    
                        }
                        document.getElementById("question5").appendChild(question5);
                        break;
                    case 6:
                        var question6 = document.createElement("span");
                        if(hide[0] == i || hide[1] == i) {
                            question6.innerText = "*";
                            if(a[i] % 2 == 0) {
                                question6.style.backgroundColor = "black";
                                question6.style.color = "white";
                            }
                            else if(a[i] % 2 == 1) {
                                question6.style.backgroundColor = "white";
                            }  
                            question6.ondragover = dragOverNumber;
                            question6.ondrop = dropNumber;
                        }
                        else {
                            question6.innerText = Qnum[i];
                            if(a[i] % 2 == 0) {
                                question6.style.backgroundColor = "black";
                                question6.style.color = "white";
                            }
                            else if(a[i] % 2 == 1) {
                                question6.style.backgroundColor = "white";
                            }    
                        }
                        document.getElementById("question6").appendChild(question6);
                        break;
                    case 7:
                        var question7 = document.createElement("span");
                        if(hide[0] == i || hide[1] == i) {
                            question7.innerText = "*";
                            if(a[i] % 2 == 0) {
                                question7.style.backgroundColor = "black";
                                question7.style.color = "white";
                            }
                            else if(a[i] % 2 == 1) {
                                question7.style.backgroundColor = "white";
                            }  
                            question7.ondragover = dragOverNumber;
                            question7.ondrop = dropNumber;
                        }
                        else {
                            question7.innerText = Qnum[i];
                            if(a[i] % 2 == 0) {
                                question7.style.backgroundColor = "black";
                                question7.style.color = "white";
                            }
                            else if(a[i] % 2 == 1) {
                                question7.style.backgroundColor = "white";
                            }    
                        }
                        document.getElementById("question7").appendChild(question7);
                        break;
                }

            }

            for(i=8; i<16; i++) {
                //question8-16 id取得
                document.getElementById("question"+i).innerHTML = "";
                switch(i) {
                    case 8:
                        var question8 = document.createElement("span");
                        question8.innerText = Qnum[i];
                        if(a[i] % 2 == 0) {
                            question8.style.backgroundColor = "black";
                            question8.style.color = "white";
                        }
                        else if(a[i] % 2 == 1) {
                            question8.style.backgroundColor = "white";
                        }
                        document.getElementById("question8").appendChild(question8);
                        break;
                    case 9:
                        var question9 = document.createElement("span");
                        question9.innerText = Qnum[i];
                        if(a[i] % 2 == 0) {
                            question9.style.backgroundColor = "black";
                            question9.style.color = "white";
                        }
                        else if(a[i] % 2 == 1) {
                            question9.style.backgroundColor = "white";
                        }
                        document.getElementById("question9").appendChild(question9);
                        break;
                    case 10:
                        var question10 = document.createElement("span");
                        question10.innerText = Qnum[i];
                        if(a[i] % 2 == 0) {
                            question10.style.backgroundColor = "black";
                            question10.style.color = "white";
                        }
                        else if(a[i] % 2 == 1) {
                            question10.style.backgroundColor = "white";
                        }
                        document.getElementById("question10").appendChild(question10);
                        break;
                    case 11:
                        var question11 = document.createElement("span");
                        question11.innerText = Qnum[i];
                        if(a[i] % 2 == 0) {
                            question11.style.backgroundColor = "black";
                            question11.style.color = "white";
                        }
                        else if(a[i] % 2 == 1) {
                            question11.style.backgroundColor = "white";
                        }
                        document.getElementById("question11").appendChild(question11);
                        break;
                    case 12:
                        var question12 = document.createElement("span");
                        question12.innerText = Qnum[i];
                        if(a[i] % 2 == 0) {
                            question12.style.backgroundColor = "black";
                            question12.style.color = "white";
                        }
                        else if(a[i] % 2 == 1) {
                            question12.style.backgroundColor = "white";
                        }
                        document.getElementById("question12").appendChild(question12);
                        break;
                    case 13:
                        var question13 = document.createElement("span");
                        question13.innerText = Qnum[i];
                        if(a[i] % 2 == 0) {
                            question13.style.backgroundColor = "black";
                            question13.style.color = "white";
                        }
                        else if(a[i] % 2 == 1) {
                            question13.style.backgroundColor = "white";
                        }
                        document.getElementById("question13").appendChild(question13);
                        break;
                    case 14:
                        var question14 = document.createElement("span");
                        question14.innerText = Qnum[i];
                        if(a[i] % 2 == 0) {
                            question14.style.backgroundColor = "black";
                            question14.style.color = "white";
                        }
                        else if(a[i] % 2 == 1) {
                            question14.style.backgroundColor = "white";
                        }
                        document.getElementById("question14").appendChild(question14);
                        break;
                    case 15:
                        var question15 = document.createElement("span");
                        question15.innerText = Qnum[i];
                        if(a[i] % 2 == 0) {
                            question15.style.backgroundColor = "black";
                            question15.style.color = "white";
                        }
                        else if(a[i] % 2 == 1) {
                            question15.style.backgroundColor = "white";
                        }
                        document.getElementById("question15").appendChild(question15);
                        break;
                }
            }
            if (start_f === false) {
                interval = setInterval(count_down,1000);
                start_f = true;
            }
            btn1.disabled = true;
            btn2.disabled = false;
        }

        

        function dragNumber(event) {
            event.dataTransfer.setData("text", event.target.innerText);
        }

        function dropNumber(event) {
            var number = event.dataTransfer.getData("text");
            event.target.innerText = number;
            event.target.className = "";
        }

        function dragOverNumber(event) {
            event.preventDefault();
        }

        var correct = []; //解答確認
        function check() {
            //hide1,2 question0-7 一致確認
            for(i=0; i<2; i++) {
                switch(hide[i]) {
                    case 0:
                        //question0内を数値変換
                        Anum[i] = Number(document.getElementById("question0").innerText);
                        break;
                    case 1:
                        Anum[i] = Number(document.getElementById("question1").innerText);
                        break;
                    case 2:
                        Anum[i] = Number(document.getElementById("question2").innerText);
                        break;
                    case 3:
                        Anum[i] = Number(document.getElementById("question3").innerText);
                        break;
                    case 4:
                        Anum[i] = Number(document.getElementById("question4").innerText);
                        break;
                    case 5:
                        Anum[i] = Number(document.getElementById("question5").innerText);
                        break;
                    case 6:
                        Anum[i] = Number(document.getElementById("question6").innerText);
                        break;
                    case 7:
                        Anum[i] = Number(document.getElementById("question7").innerText);
                        break;
                }
                // 回答と格納値を比較
                if(Anum[i] == Qnum[hide[i]]) {
                    correct[i] = 1;
                }
            }
            
            var score;
            //出力
            if(correct[0] == 1 && correct[1] == 1) {
                count_stop();
                if(count < 60 && count >= 51) {
                    score = 100;
                }
                else if(count < 51 && count >= 41) {
                    score = 50;
                }
                else if(count < 41 && count >= 31) {
                    score = 40;
                }
                else if(count < 31 && count >= 21) {
                    score = 30;
                }
                else if(count < 21 && count >= 11) {
                    score = 20;
                }
                else if(count < 11 && count >= 1) {
                    score = 10;
                }
                alert("CLEAR!!!!\nSCORE: " + score);
                postCoin(score);
                btn2.disabled = true;
                btn3.disabled = false;
            }
            
            if(correct[0] == 1) {
                switch(hide[0]) {
                    case 0:
                        question0.className = "green";
                        break;
                    case 1:
                        question1.className = "green";
                        break;
                    case 2:
                        question2.className = "green";
                        break;
                    case 3:
                        question3.className = "green";
                        break;
                    case 4:
                        question4.className = "green";
                        break;
                    case 5:
                        question5.className = "green";
                        break;
                    case 6:
                        question6.className = "green";
                        break;
                    case 7:
                        question7.className = "green";
                        break;
                }
            }
            if(correct[1] == 1) {
                switch(hide[1]) {
                    case 0:
                        question0.className = "green";
                        break;
                    case 1:
                        question1.className = "green";
                        break;
                    case 2:
                        question2.className = "green";
                        break;
                    case 3:
                        question3.className = "green";
                        break;
                    case 4:
                        question4.className = "green";
                        break;
                    case 5:
                        question5.className = "green";
                        break;
                    case 6:
                        question6.className = "green";
                        break;
                    case 7:
                        question7.className = "green";
                        break;
                }
            }
        }

        var count   = 60;     //カウントダウンの数字を格納する変数  
        var min     = 0;       //残り時間「分」を格納する変数
        var sec     = 0;       //残り時間「秒」を格納する変数

        function count_start() {
            if (start_f === false) {
                interval = setInterval(count_down,1000);
                start_f = true;
            }
        }

        function count_down() {
            if(count === 1){
                var display = document.getElementById("default");
                display.style.color = 'red';
                display.innerHTML = "TIME UP!";
                clearInterval(interval);
                btn2.disabled = true;
                btn3.disabled = false;
            } 
            else {
                count--;
                min = Math.floor(count / 60);
                sec = count % 60;
                var count_down = document.getElementById("default");
                count_down.innerHTML = ("0"+min) +":" + ("0"+sec).slice(-2);
            }
        }

        function count_stop() {
            clearInterval(interval);
            start_f = false;
        }

        function count_reset(){
            clearInterval(interval);
            count = 60;
            start_f = false;
            var count_down = document.getElementById("default");
            count_down.style.color = 'black';
            count_down.innerHTML = "01:00";
            for(i=0; i<2; i++) {
                switch(hide[i]) {
                    case 0:
                        question0.className = "";
                        break;
                    case 1:
                        question1.className = "";
                        break;
                    case 2:
                        question2.className = "";
                        break;
                    case 3:
                        question3.className = "";
                        break;
                    case 4:
                        question4.className = "";
                        break;
                    case 5:
                        question5.className = "";
                        break;
                    case 6:
                        question6.className = "";
                        break;
                    case 7:
                        question7.className = "";
                        break;
                }
            }
            btn1.disabled = false;
            btn3.disabled = true;
        }

    </script>
     <style>
        @font-face {
            font-family: 'number_font';
            src: url('/static/font/bettynoir.ttf') format('truetype');
        }
        body {
            background-color:rgb(125, 231, 158);
        }
        #let {
            line-height: 0;
            font-weight: bold;
            font-size: 50px;
            color: rgba(228, 54, 245, 0.3);
            text-shadow: 3px 3px 0 #2BC2FA;
            padding: 0;
            display  : inline-block;
            animation: rollkAnime 2s linear infinite;
        }
        @keyframes rollkAnime{
            50% {
                    color    : #66ff66;
                    transform: rotateX(180deg);
                }
            100% {
                    color    : #6666ff;
                    transform: rotateX(360deg);
                }
        }
        #start {
            background: #FBCA1F;
            font-family: inherit;
            padding: 0.3em;
            font-weight: 900;
            font-size: 18px;
            border: 3px solid black;
            border-radius: 0.4em;
            box-shadow: 0.1em 0.1em;
        }

        #start:hover {
            transform: translate(-0.05em, -0.05em);
            box-shadow: 0.15em 0.15em;
        }

        #start:active {
            transform: translate(0.05em, 0.05em);
            box-shadow: 0.05em 0.05em;
        }
        #deci {
            background: #FBCA1F;
            font-family: inherit;
            padding: 0.3em;
            font-weight: 900;
            font-size: 18px;
            border: 3px solid black;
            border-radius: 0.4em;
            box-shadow: 0.1em 0.1em;
        }

        #deci:hover {
            transform: translate(-0.05em, -0.05em);
            box-shadow: 0.15em 0.15em;
        }

        #deci:active {
            transform: translate(0.05em, 0.05em);
            box-shadow: 0.05em 0.05em;
        }
        #reset {
            background: #FBCA1F;
            font-family: inherit;
            padding: 0.3em;
            font-weight: 900;
            font-size: 18px;
            border: 3px solid black;
            border-radius: 0.4em;
            box-shadow: 0.1em 0.1em;
        }

        #reset:hover {
            transform: translate(-0.05em, -0.05em);
            box-shadow: 0.15em 0.15em;
        }

        #reset:active {
            transform: translate(0.05em, 0.05em);
            box-shadow: 0.05em 0.05em;
        }
        span {
            margin: 5px;
            padding: 0px 10px;
            border: thin solid #CCCCCC;
            box-shadow: 0.1em 0.1em #2BC2FA;
        }
        #btn_rule {
            background-color: rgba(0, 0, 0, 0);
            outline: none;
            border: none;
        }
        div p {
            display: inline-block;
        }
        #default {
            font-family: 'number_font';
            font-size: 30px;
        }
        #Dfont {
            font-family: 'number_font';
        }
        #number {font-size: 20px; font-family: 'number_font';}
        #question0 {font-size: 50px; font-family: 'number_font';}
        #question1 {font-size: 50px; font-family: 'number_font';}
        #question2 {font-size: 50px; font-family: 'number_font';}
        #question3 {font-size: 50px; font-family: 'number_font';}
        #question4 {font-size: 50px; font-family: 'number_font';}
        #question5 {font-size: 50px; font-family: 'number_font';}
        #question6 {font-size: 50px; font-family: 'number_font';}
        #question7 {font-size: 50px; font-family: 'number_font';}
        #question8 {font-size: 50px; font-family: 'number_font';}
        #question9 {font-size: 50px; font-family: 'number_font';}
        #question10 {font-size: 50px; font-family: 'number_font';}
        #question11 {font-size: 50px; font-family: 'number_font';}
        #question12 {font-size: 50px; font-family: 'number_font';}
        #question13 {font-size: 50px; font-family: 'number_font';}
        #question14 {font-size: 50px; font-family: 'number_font';}
        #question15 {font-size: 50px; font-family: 'number_font';}
        .green {background-color: palevioletred;}
    </style>
</html>
{{ end }}
